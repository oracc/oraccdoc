<?xml version="1.0" encoding="utf-8"?>
<esp:page
        xmlns:esp="http://oracc.org/ns/esp/1.0"
   xmlns="http://www.w3.org/1999/xhtml"
>

  <esp:name>Open Data</esp:name>
  <esp:title>Oracc Open Data: A brief introduction for programmers</esp:title>

  <html><head></head><body>

<esp:h>JSON</esp:h>

<p>Oracc makes much of its data available in JSON format, and more JSON data is planned.  All Oracc JSON files consist of a single object which have a "type" member and, in the case of project data, a "project" member.  The data structure for each type is described here.</p>

<esp:sh>Top-level Oracc Data</esp:sh>

<p>Two files are provided at the top level: a simple list of public projects (projects.json) and a complex list of public projects analogous to the one-page listing of projects with blurbs (projectlist.json). In each case, these can be retrieved by prefixing them with an Oracc server name, e.g., http://oracc.org/projects.json or http://oracc.museum.upenn.edu/projects.json.</p>

<dl>
<dt>projects.json: type "projects"</dt>
<dd>Provides a simple list of project names which can be concatenated to an Oracc server name to provide the base URL for retrieving additional JSON objects:
<pre>
{
        "type": "projects",
        "public": [
                "aemw/alalakh/idrimi",
                "amgg",
                "armep",
                "arrim",
</pre>
<p>The <code>public</code> array gives the project names in a form suitable for concatenating to the <code>http://</code> URL for an Oracc server.  You can find the names of JSON files available for a project in the manifest, for which see below.</p>
</dd>

<dt>projectlist.json: type "projectlist"</dt>
<dd>Provides a version of the data used in the project list at http://oracc.org/projectlist.html:
<pre>
{
        "type": "projectlist",
        "projects": [{
                "pathname": "rimanum",
                "name": "The House of Prisoners",
                "abbrev": "Rīm-Anum",
                "blurb": "Rīm-Anum, king of Uruk (ca. 1741–1739 BC) revolted against Samsuiluna of Babylon, son of Hammurapi, and enjoyed a short-lived independence. The archive edited in this project derives from the house of prisoners (bīt asiri) that kept the prisoners of war. The editions and translations were prepared by Andrea Seri and accompanies her book \"The House of Prisoners\" (2013).    <a href="http://www.degruyter.com/view/product/181597">Buy the book</a> from Harrassowitz.   "
        } , {
</pre>
<p>The <code>projects</code> gives a list of objects, one per project.  Each object contains a subset of the material in the project's configuration object (or <code>config.xml</code> within the Oracc installation.  This information is also available from each project's metadata.json, so the project list is primarily a convenience for anyone wanting to provide a summary of the projects available.</p>
</dd>
</dl>

<esp:sh>Project-level Data</esp:sh>

<p>Oracc compiles project content into a collection of XML data structures which have additional annotation and linkage.  The goal is to expose all of this data in JSON format.</p>

<dl>

<dt>manifest.json: type "manifest"</dt>
<dd>For any given project name in <code>/projects.json</code> you can retrieve <code>/[PROJECT]/manifest.json</code> to discover which JSON formats are provided by the project. This gives a simple list of JSON files retrievable from a project.  For the project <code>rimanum</code>, the URL <code>http://oracc.org/rimanum/manifest.json</code>, yields the following:
<pre>
{
	"type": "manifest",
	"project": "rimanum",
	"files": [
		"corpus.json",
		"index-akk-x-oldbab.json",
		"index-cat.json",
		"index-lem.json",
</pre>
<p>For each entry in the array <code>files</code> you can retrieve, e.g., <code>http://oracc.org/rimanum/corpus.json</code>.</p>
</dd>

<dt>metadata.json: type "metadata"</dt>
<dd>This provides several objects: "config"--the configuration info for the project; "witnesses"--only present if projects use composite texts, this provides information on which manuscripts are witnesses of the composites in the project; and "formats", a collection of lists indicating the presence of transliterations, transliterations and lemmatized data in the project.
<pre>
{
	"type": "metadata",
	"config": {
		"pathname": "rimanum",
		"name": "The House of Prisoners",
		"abbrev": "RÄ«m-Anum",
		...
	},
	"formats": {
		"atf": [ "P295625","P296047","P296277","P296278", ... ],
		"lem": [ "P295625","P296047","P296277","P296278","P296414", ... ],
		"tr-en": [ "P295625","P296047","P296277","P296278", ... ],
		"xtf": [ "P295625","P296047","P296277", ... ]
	}
}
</pre>
</dd>

<dt>catalogue.json: type "catalogue"</dt>
<dd>
Provides the project's catalogue:
<pre>
{
	"type": "catalogue",
	"project": "rimanum",
	"members": {
		"P295625": {
			"author": "Simmons, Stephen D.",
			"collection": "J. Pierpont Morgan Library Collection, Yale Babylonian Collection, New Haven, Connecticut, USA",
			"date_of_origin": "Rim-Anum.01.10.01",
			"dates_referenced": "Rim-Anum.01.10.01",
			"designation": "YOS 14, 341",
			"genre": "Administrative",
			"height": "40",
			"language": "Sumerian",
			"lineart_up": "150ppi 20120510",
			"material": "clay",
			"museum_no": "MLC 00837",
			"object_type": "tablet",
			"period": "Old Babylonian",
			"primary_publication": "YOS 14, 341",
			"provenience": "Uruk (mod. Warka)",
			"publication_date": "1978",
			"seal_id": "Sx",
			"subgenre": "bit asiri  flour",
			"thickness": "20",
			"width": "35",
			"supergenre": "ELA",
			"xproject": "CDLI"
		},    
</pre>    
</dd>

<dt>index-xxx.json: type

</dl>


<esp:author first-names="Steve" last-name="Tinney"/>
<esp:author first-names="Eleanor" last-name="Robson"/>
<esp:content-last-modified/>
<esp:email address="osc@oracc.org"/>

</body></html>

</esp:page>
